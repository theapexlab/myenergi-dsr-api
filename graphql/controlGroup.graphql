mutation CreateControlGroup($object: control_group_insert_input! = {}) {
  controlGroup: insert_control_group_one(object: $object) {
    ...ControlGroupFields
  }
}

mutation AddDevice($objects: [control_group_device_insert_input!]!) {
  response: insert_control_group_device(objects: $objects) {
    affectedRows: affected_rows
  }
}

mutation RemoveDeviceFromControlGroup($where: control_group_device_bool_exp = {}) {
  response: delete_control_group_device(where: $where) {
    affectedRows: affected_rows
  }
}

query ControlGroupDevices($limit: Int, $offset: Int, $where: control_group_device_bool_exp = {}) {
  devices: control_group_device(limit: $limit, offset: $offset, where: $where) {
    serialNo: serialno
    deviceClass: device_type
  }
}

query ControlGroupStatus($limit: Int, $offset: Int, $where: control_group_bool_exp = {}) {
  controlGroups: control_group(where: $where) {
    devices(limit: $limit, offset: $offset) {
      eddi: control_group_device_eddi {
        ...EddiStatus
      }
      zappi: control_group_device_zappi {
        ...ZappiStatus
      }
    }
  }
}

query ControlGroups($limit: Int, $offset: Int, $where: control_group_bool_exp = {}) {
  controlGroups: control_group(limit: $limit, offset: $offset, where: $where) {
    ...ControlGroupFields
  }
}

fragment ControlGroupFields on control_group {
  id
  name
  adminGroupId: admin_group_id
}
