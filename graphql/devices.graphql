#  FYI:  After changing anything here run yarn codegen to generate new types

#  todo: use admingroup device table instead of zappi
query Devices($limit: Int, $offset: Int) {
  zappis: zappi(limit: $limit, offset: $offset) {
    ...ZappiData
  }
  eddis: eddi(limit: $limit, offset: $offset) {
    ...EddiData
  }
}

#  todo: use admingroup device table instead of zappi
query Device($serialNo: bigint!) {
  zappi: zappi_by_pk(serialno: $serialNo) {
    ...ZappiData
  }
  eddi: eddi_by_pk(serialno: $serialNo) {
    ...EddiData
  }
}

query DeviceStatus($serialNo: bigint!) {
  zappi: zappi_by_pk(serialno: $serialNo) {
    ...ZappiStatus
  }
  eddi: eddi_by_pk(serialno: $serialNo) {
    ...EddiStatus
  }
}

query DeviceControlGroup($serialNo: bigint!) {
  zappi: zappi_by_pk(serialno: $serialNo) {
    controlGroupDevice: zappi_control_group_device {
      controlGroup: control_group {
        ...ControlGroupFields
      }
    }
  }
  eddi: eddi_by_pk(serialno: $serialNo) {
    controlGroupDevice: eddi_control_group_device {
      controlGroup: control_group {
        ...ControlGroupFields
      }
    }
  }
}

fragment ZappiData on zappi {
  serialNo: serialno
  deviceClass: deviceclass
  productCode: productcode
}

fragment EddiData on eddi {
  serialNo: serialno
  deviceClass: deviceclass
  productCode: productcode
}

fragment ZappiStatus on zappi {
  serialNo: serialno
  deviceClass: deviceclass
  updateDate: updatedat
  chargeEnergy: chargeenergy
  voltage
  frequency
}

fragment EddiStatus on eddi {
  serialNo: serialno
  deviceClass: deviceclass
  updateDate: updatedat
  chargeEnergy: chargeenergy
  voltage
  frequency
}
